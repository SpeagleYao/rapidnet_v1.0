[?1000h[?1049h[?1h=[1;60r[34l[34h[?25h[23m[24m[0m[H[J[?25l[60;1H"src/applications/hyper-text-class-query/hyper-text-class-query.cc" 181L, 4088C[1;1H[38;5;130m  1 [0m[34m/* A RapidNet application. Generated by RapidNet compiler. */[0m
[38;5;130m  2 
  3 [0m[35m#include [0m[31m"hyper-text-class-query.h"[0m
[38;5;130m  4 [0m[35m#include [0m[31m<cstdlib>[0m
[38;5;130m  5 [0m[35m#include [0m[31m"ns3/nstime.h"[0m
[38;5;130m  6 [0m[35m#include [0m[31m"ns3/simulator.h"[0m
[38;5;130m  7 [0m[35m#include [0m[31m"ns3/type-ids.h"[0m
[38;5;130m  8 [0m[35m#include [0m[31m"ns3/rapidnet-types.h"[0m
[38;5;130m  9 [0m[35m#include [0m[31m"ns3/rapidnet-utils.h"[0m
[38;5;130m 10 [0m[35m#include [0m[31m"ns3/assignor.h"[0m
[38;5;130m 11 [0m[35m#include [0m[31m"ns3/selector.h"[0m
[38;5;130m 12 [0m[35m#include [0m[31m"ns3/rapidnet-functions.h"[0m
[38;5;130m 13 
 14 using[0m [32mnamespace[0m std;
[38;5;130m 15 using[0m [32mnamespace[0m ns3;
[38;5;130m 16 using[0m [32mnamespace[0m ns3::rapidnet;
[38;5;130m 17 using[0m [32mnamespace[0m ns3::rapidnet::hypertextclassquery;
[38;5;130m 18 
 19 [0m[32mconst[0m string HyperTextClassQuery::PRETURN = [31m"pReturn"[0m;
[38;5;130m 20 [0m[32mconst[0m string HyperTextClassQuery::PROVQUERY = [31m"provQuery"[0m;
[38;5;130m 21 [0m[32mconst[0m string HyperTextClassQuery::RECORDS = [31m"records"[0m;
[38;5;130m 22 [0m[32mconst[0m string HyperTextClassQuery::TUPLE = [31m"tuple"[0m;
[38;5;130m 23 
 24 [0mNS_LOG_COMPONENT_DEFINE ([31m"HyperTextClassQuery"[0m);
[38;5;130m 25 [0mNS_OBJECT_ENSURE_REGISTERED (HyperTextClassQuery);
[38;5;130m 26 
 27 [0mTypeId
[38;5;130m 28 [0mHyperTextClassQuery::GetTypeId ([32mvoid[0m)
[38;5;130m 29 [0m{
[38;5;130m 30 [0m  [32mstatic[0m TypeId tid = TypeId ([31m"ns3::rapidnet::hypertextclassquery::HyperTextClassQuery"[0m)
[38;5;130m 31 [0m    .SetParent<RapidNetApplicationBase> ()
[38;5;130m 32 [0m    .AddConstructor<HyperTextClassQuery> ()
[38;5;130m 33 [0m    ;
[38;5;130m 34 [0m  [38;5;130mreturn[0m tid;
[38;5;130m 35 [0m}
[38;5;130m 36 
 37 [0mHyperTextClassQuery::HyperTextClassQuery()
[38;5;130m 38 [0m{
[38;5;130m 39 [0m  NS_LOG_FUNCTION_NOARGS ();
[38;5;130m 40 [0m}
[38;5;130m 41 
 42 [0mHyperTextClassQuery::~HyperTextClassQuery()
[38;5;130m 43 [0m{
[38;5;130m 44 [0m  NS_LOG_FUNCTION_NOARGS ();
[38;5;130m 45 [0m}
[38;5;130m 46 
 47 [0m[32mvoid[0m
[38;5;130m 48 [0mHyperTextClassQuery::DoDispose ([32mvoid[0m)
[38;5;130m 49 [0m{
[38;5;130m 50 [0m  NS_LOG_FUNCTION_NOARGS ();
[38;5;130m 51 
 52 [0m  RapidNetApplicationBase::DoDispose ();
[38;5;130m 53 [0m}
[38;5;130m 54 
 55 [0m[32mvoid[0m
[38;5;130m 56 [0mHyperTextClassQuery::StartApplication ([32mvoid[0m)
[38;5;130m 57 [0m{
[38;5;130m 58 [0m  NS_LOG_FUNCTION_NOARGS ();
[38;5;130m 59 [0m[60;255H1,1[11CTop[1;5H[34h[?25h[?25l[60;1HType  :quit<Enter>  to exit Vim[60;32H[K[60;255H1,1[11CTop[1;5H[34h[?25h[?25l[60;255H[K[60;255H1,1[11CTop[1;5H[34h[?25h[?25l[60;255H[K[60;255H1,1[11CTop[1;5H[34h[?25h[?25l[60;255H[K[60;255H1,1[11CTop[1;5H[34h[?25h[?25l[60;255H[K[60;255H1,1[11CTop[1;5H[34h[?25h[?25l[60;255H[K[60;255H1,1[11CTop[1;5H[34h[?25h[?25l[60;255H[K[60;255H1,1[11CTop[1;5H[34h[?25h[?25l[1;59r[1;1H[29M[1;60r[31;1H[38;5;130m 60 [0m  RapidNetApplicationBase::StartApplication ();
[38;5;130m 61 [0m  RAPIDNET_LOG_INFO([31m"HyperTextClassQuery Application Started"[0m);
[38;5;130m 62 [0m}
[38;5;130m 63 
 64 [0m[32mvoid[0m
[38;5;130m 65 [0mHyperTextClassQuery::StopApplication ()
[38;5;130m 66 [0m{
[38;5;130m 67 [0m  NS_LOG_FUNCTION_NOARGS ();
[38;5;130m 68 
 69 [0m  RapidNetApplicationBase::StopApplication ();
[38;5;130m 70 [0m  RAPIDNET_LOG_INFO([31m"HyperTextClassQuery Application Stopped"[0m);
[38;5;130m 71 [0m}
[38;5;130m 72 
 73 [0m[32mvoid[0m
[38;5;130m 74 [0mHyperTextClassQuery::InitDatabase ()
[38;5;130m 75 [0m{
[38;5;130m 76 [0m  [34m//RapidNetApplicationBase::InitDatabase ();[0m
[38;5;130m 77 
 78 [0m  AddRelationWithKeys (RECORDS, attrdeflist (
[38;5;130m 79 [0m    attrdef ([31m"records_attr1"[0m, IPV4),
[38;5;130m 80 [0m    attrdef ([31m"records_attr2"[0m, ID),
[38;5;130m 81 [0m    attrdef ([31m"records_attr3"[0m, ID),
[38;5;130m 82 [0m    attrdef ([31m"records_attr4"[0m, STR)));
[38;5;130m 83 
 84 [0m  AddRelationWithKeys (TUPLE, attrdeflist (
[38;5;130m 85 [0m    attrdef ([31m"tuple_attr1"[0m, IPV4),
[38;5;130m 86 [0m    attrdef ([31m"tuple_attr2"[0m, STR),
[38;5;130m 87 [0m    attrdef ([31m"tuple_attr3"[0m, IPV4),
[38;5;130m 88 [0m    attrdef ([31m"tuple_attr4"[0m, STR),[60;1H[K[60;255H30,3[10C23%[1;7H[34h[?25h[?25l[1;59r[1;1H[29M[1;60r[31;1H[38;5;130m 89 [0m    attrdef ([31m"tuple_attr5"[0m, INT32)));
[38;5;130m 90 
 91 [0m}
[38;5;130m 92 
 93 [0m[32mvoid[0m
[38;5;130m 94 [0mHyperTextClassQuery::DemuxRecv (Ptr<Tuple> tuple)
[38;5;130m 95 [0m{
[38;5;130m 96 [0m  RapidNetApplicationBase::DemuxRecv (tuple);
[38;5;130m 97 
 98 [0m  [38;5;130mif[0m (IsInsertEvent (tuple, TUPLE))
[38;5;130m 99 [0m    {
[38;5;130m100 [0m      Q1Eca0Ins (tuple);
[38;5;130m101 [0m    }
[38;5;130m102 [0m  [38;5;130mif[0m (IsRecvEvent (tuple, PRETURN))
[38;5;130m103 [0m    {
[38;5;130m104 [0m      Q2_eca (tuple);
[38;5;130m105 [0m    }
[38;5;130m106 [0m}
[38;5;130m107 
108 [0m[32mvoid[0m
[38;5;130m109 [0mHyperTextClassQuery::Q1Eca0Ins (Ptr<Tuple> tuple)
[38;5;130m110 [0m{
[38;5;130m111 [0m  [32mclock_t[0m t1 = clock();
[38;5;130m112 [0m  cout << t1 << endl;
[38;5;130m113 [0m  RAPIDNET_LOG_INFO ([31m"Q1Eca0Ins triggered"[0m);
[38;5;130m114 
115 [0m  Ptr<Tuple> result = tuple;
[38;5;130m116 
117 [0m  result->Assign (Assignor::New ([31m"UID"[0m,[60;255H[K[60;255H59,0-1[8C47%[1;5H[34h[?25h[?25l[1;59r[1;1H[29M[1;60r[31;1H[38;5;130m118 [0m    FSha1::New (
[38;5;130m119 [0m      Operation::New (RN_PLUS,
[38;5;130m120 [0m[8COperation::New (RN_PLUS,
[38;5;130m121 [0m[10COperation::New (RN_PLUS,
[38;5;130m122 [0m[12CVarExpr::New ([31m"tuple_attr2"[0m),
[38;5;130m123 [0m[12CVarExpr::New ([31m"tuple_attr3"[0m)),
[38;5;130m124 [0m[10CVarExpr::New ([31m"tuple_attr4"[0m)),
[38;5;130m125 [0m[8CVarExpr::New ([31m"tuple_attr5"[0m)))));
[38;5;130m126 
127 [0m  result->Assign (Assignor::New ([31m"Time"[0m,
[38;5;130m128 [0m    FNow::New (
[38;5;130m129 [0m)));
[38;5;130m130 
131 [0m  result->Assign (Assignor::New ([31m"QID"[0m,
[38;5;130m132 [0m    FSha1::New (
[38;5;130m133 [0m      Operation::New (RN_PLUS,
[38;5;130m134 [0m[8COperation::New (RN_PLUS,
[38;5;130m135 [0m[10CValueExpr::New (StrValue::New ([31m""[0m)),
[38;5;130m136 [0m[10CVarExpr::New ([31m"UID"[0m)),
[38;5;130m137 [0m[8CVarExpr::New ([31m"Time"[0m)))));
[38;5;130m138 
139 [0m  result->Assign (Assignor::New ([31m"P"[0m,
[38;5;130m140 [0m    FAppend::New (
[38;5;130m141 [0m      ValueExpr::New (StrValue::New ([31m""[0m)))));
[38;5;130m142 
143 [0m  result = result->Project (
[38;5;130m144 [0m    PROVQUERY,
[38;5;130m145 [0m    strlist ([31m"tuple_attr3"[0m,
[38;5;130m146 [0m      [31m"QID"[0m,[60;255H[K[60;255H88,5[10C71%[1;9H[34h[?25h[?25l[1;59r[1;1H[29M[1;60r[31;1H[38;5;130m147 [0m      [31m"UID"[0m,
[38;5;130m148 [0m      [31m"P"[0m,
[38;5;130m149 [0m      [31m"tuple_attr1"[0m,
[38;5;130m150 [0m      [31m"tuple_attr3"[0m),
[38;5;130m151 [0m    strlist ([31m"provQuery_attr1"[0m,
[38;5;130m152 [0m      [31m"provQuery_attr2"[0m,
[38;5;130m153 [0m      [31m"provQuery_attr3"[0m,
[38;5;130m154 [0m      [31m"provQuery_attr4"[0m,
[38;5;130m155 [0m      [31m"provQuery_attr5"[0m,
[38;5;130m156 [0m      RN_DEST));
[38;5;130m157 
158 [0m  Send (result);
[38;5;130m159 [0m}
[38;5;130m160 
161 [0m[32mvoid[0m
[38;5;130m162 [0mHyperTextClassQuery::Q2_eca (Ptr<Tuple> pReturn)
[38;5;130m163 [0m{
[38;5;130m164 [0m  RAPIDNET_LOG_INFO ([31m"Q2_eca triggered"[0m);
[38;5;130m165 
166 [0m  Ptr<Tuple> result = pReturn;
[38;5;130m167 
168 [0m  result = result->Project (
[38;5;130m169 [0m    RECORDS,
[38;5;130m170 [0m    strlist ([31m"pReturn_attr1"[0m,
[38;5;130m171 [0m      [31m"pReturn_attr2"[0m,
[38;5;130m172 [0m      [31m"pReturn_attr3"[0m,
[38;5;130m173 [0m      [31m"pReturn_attr4"[0m),
[38;5;130m174 [0m    strlist ([31m"records_attr1"[0m,
[38;5;130m175 [0m      [31m"records_attr2"[0m,[60;255H[K[60;255H117,3[9C95%[1;7H[34h[?25h[?25l[60;257H8,5[2;9H[34h[?25h[?25l[60;257H9,7[3;11H[34h[?25h[?25l[60;256H20,9[4;13H[34h[?25h[?25l[60;257H1,11[5;15H[34h[?25h[?25l[60;257H2,13[6;17H[34h[?25h